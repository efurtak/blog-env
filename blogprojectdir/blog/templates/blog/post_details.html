{% extends "base.html" %}

{% block content %}
<a href="{% url 'blog:posts' %}" class="text-blue-500 hover:underline mb-4 inline-block">Back to posts</a>
<h2 id="test" class="mb-4">Post detail</h2>
<div class="mb-8">
    <h3 class="text-xl font-bold">{{ post.title }}</h3>
    <p class="text-gray-600">{{ post.content }}</p>
    <p class="text-gray-500 text-sm">Published on: {{ post.created_at|date:"F j, Y" }}</p>
</div>

Add comment:
<form action="{% url 'blog:post_details' post.id %}" method="post" id="comment-form">
    {% csrf_token %}
    {{ form }}
    <input type="submit" value="Submit" class="button">
</form>

{% if comments %}
    <h3 class="mt-8 mb-4">Comments</h3>
    <ul class="list-disc pl-5">
        {% for comment in comments %}
            <li class="mb-2">
                <strong>{{ comment.author }}</strong> ({{ comment.created_at|date:"F j, Y" }}):
                <p class="text-gray-600">{{ comment.content }}</p>
                <div class="flex items-center">
                    <a href="{% url 'blog:comment_edit' comment.post.id comment.id %}" class="text-blue-500 hover:underline mr-2">Edit</a>
                    <form action="{% url 'blog:comment_delete' comment.post.id comment.id %}" method="post">
                        {% csrf_token %}
                        <input type="submit" value="Delete" onclick="return confirm('Are you sure?');" class="text-white bg-red-500 hover:bg-red-700 px-2 py-1 rounded">
                    </form>
                </div>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p class="text-gray-500">No comments yet.</p>
{% endif %}
{% endblock %}
